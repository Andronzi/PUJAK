(()=>{"use strict";var t={4515:(t,e,r)=>{var a=r(8935),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Header",[r("CloseButton")],1),r("Content",{attrs:{header:!0,footer:!1,scroll:!0,scrollbar:!0}},[r("b",[t._v("canvas")]),r("Item",{attrs:{itemName:"худи"}}),r("p",[t._v("ee")]),r("p",{attrs:{id:"id"}}),r("div",{staticClass:"mx-2 mt-6 text-center"},[r("canvas",{staticClass:"qr-content"})])],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fixed w-screen top-0 left-0 border-b z-10 bg-gray-50",class:t.$slots.default?"h-[var(--header-sait]":"h-[var(--sait)]"},[t.$slots.default?r("div",{staticClass:"mt-sait w-screen h-[var(--header-height)]"},[t._t("default")],2):t._e()])},i=[];const l={name:"Header"},c=l;var d=r(1001),u=(0,d.Z)(c,o,i,!1,null,null,null);const m=u.exports;var p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-center w-screen h-full"},[r("button",{staticClass:"group flex flex-row outline-none h-8 items-center ml-0 pr-2",on:{click:t.onClick}},[r("svg",{staticClass:"h-6 w-6 group-active:stroke-orange-500",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"}})]),r("div",[t._v(t._s(t.name))])])])},f=[],h=r(2907),v=r.n(h);const g={name:"CloseButton",props:{name:{type:String,default:"Close"}},methods:{onClick(){v().miniapp.pop(!0,"")}}},k=g;var y=(0,d.Z)(k,p,f,!1,null,null,null);const b=y.exports;var x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-screen",class:[t.header?"mt-[var(--header-sait)]":"",t.calc_height,t.scroll?"overflow-y-auto":"overflow-hidden",t.scrollbar?"scrollbar":""],attrs:{hidden:t.hidden},on:{scroll:t.onscroll}},[t._t("default")],2)},w=[];const _={name:"Content",props:{header:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},scroll:{type:Boolean,default:!0},scrollbar:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},data(){return{timer:null}},computed:{calc_height(){return this.header?this.footer?"h-[calc(100vh-var(--header-sait)-var(--footer-saib))]":"h-[calc(100vh-var(--header-sait))]":this.footer?"h-[calc(100vh-var(--footer-saib))]":"h-screen"}},methods:{onscroll(t){t.target.scrollTop>10&&document.documentElement.style.setProperty("--scrollbar-opacity","block"),clearTimeout(this.timer),this.timer=setTimeout((()=>{document.documentElement.style.setProperty("--scrollbar-opacity","none")}),2e3)}}},C=_;var E=(0,d.Z)(C,x,w,!1,null,null,null);const B=E.exports;var T=r(8733);async function I(t){await v().sqlite.run("CREATE TABLE IF NOT EXISTS id_table (id TEXT UNIQUE)","miniapp");let e=v().sqlite.db_type.miniapp,r=await v().sqlite.get("SELECT id FROM id_table",e);return t.innerHTML+="\n213",r}async function L(t){let e=v().sqlite.db_type.miniapp;await v().sqlite.run(`INSERT INTO id_table (id) VALUES ("${t}")`,e);let r=await v().sqlite.get("SELECT id FROM id_table",e);return r}var O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item-block"},[r("img",{staticClass:"item-block__image w-30",attrs:{src:t.imageSrc}}),r("p",{staticClass:"item-block__name"},[t._v(t._s(t.itemName))]),r("div",{staticClass:"mt-6 text-center"},[r("Button",{staticClass:"w-28",on:{setBarcode:t.setBarcode}},[r("template",{slot:"text"},[t._v("Read QR")])],2)],1)])},S=[],$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"text-center px-4 py-2 rounded-md transition-all shadow-md ring-2 font-semibold",class:t.danger?"bg-white ring-red-500 active:ring-red-400 active:bg-red-50 m-0.5":"text-white bg-orange-500 ring-orange-500 active:bg-orange-400 active:ring-orange-400",on:{click:t.onClick}},[r("div",{staticClass:"flex items-center"},[r("LoadingIcon",{staticClass:"w-7 px-0.5 animate-spin-slow",attrs:{stroke:t.danger?"rgb(249 115 22)":"#fffff0",className:t.isLoading?"block":"hidden"}}),!t.isLoading&&t.isLoading||t.$slots.icon?r("div",{staticClass:"w-7"},[t._t("icon")],2):t._e(),r("div",{staticClass:"text-lg text-center w-full transition-padding",class:t.isLoading||t.$slots.icon?"pl-9 -ml-7":""},[t._t("text")],2)],1)])},N=[],q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.className},[r("svg",{attrs:{version:"1.1",viewBox:"-58 -58 116 116",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[r("g",{attrs:{"stroke-linecap":"round","stroke-width":"15"}},[r("path",{attrs:{id:"a",d:"m0 35 0,14"}}),r("use",{attrs:{transform:"rotate(210)","xlink:href":"#a",stroke:t.stroke,opacity:"0.08"}}),r("use",{attrs:{transform:"rotate(240)","xlink:href":"#a",stroke:t.stroke,opacity:"0.16"}}),r("use",{attrs:{transform:"rotate(270)","xlink:href":"#a",stroke:t.stroke,opacity:"0.25"}}),r("use",{attrs:{transform:"rotate(300)","xlink:href":"#a",stroke:t.stroke,opacity:"0.33"}}),r("use",{attrs:{transform:"rotate(330)","xlink:href":"#a",stroke:t.stroke,opacity:"0.41"}}),r("use",{attrs:{transform:"rotate(0)","xlink:href":"#a",stroke:t.stroke,opacity:"0.50"}}),r("use",{attrs:{transform:"rotate(30)","xlink:href":"#a",stroke:t.stroke,opacity:"0.58"}}),r("use",{attrs:{transform:"rotate(60)","xlink:href":"#a",stroke:t.stroke,opacity:"0.67"}}),r("use",{attrs:{transform:"rotate(90)","xlink:href":"#a",stroke:t.stroke,opacity:"0.75"}}),r("use",{attrs:{transform:"rotate(120)","xlink:href":"#a",stroke:t.stroke,opacity:"0.83"}}),r("use",{attrs:{transform:"rotate(150)","xlink:href":"#a",stroke:t.stroke,opacity:"0.92"}}),r("use",{attrs:{transform:"rotate(180)","xlink:href":"#a",stroke:t.stroke,opacity:"1.0"}})])])])},H=[];const M={name:"LoadingIcon",props:{stroke:{type:String,default:""},className:{type:String,default:"#ffff00"}}},Z=M;var j=(0,d.Z)(Z,q,H,!1,null,null,null);const R=j.exports,A={name:"Button",props:{danger:{type:Boolean,default:!1}},components:{LoadingIcon:R},data(){return{isLoading:!1}},methods:{async onClick(){const t=await v().barcode.scan([v().barcode.symbology.qr]);this.$emit("setBarcode",t)}}},F=A;var P=(0,d.Z)(F,$,N,!1,null,null,null);const U=P.exports,Q={name:"Item",components:{Button:U},props:{itemId:{id:Text,default:""},imageSrc:{type:String,default:"https://sun6-20.userapi.com/impg/3wVf7NZLP7AIgiNZqPG9tOE0KnhFHUQDnsGIDA/BbRHOeFfhkY.jpg?crop=0.167,0,0.667,1&size=0x179&quality=95&sign=390c7f2f7fddf4ce64c45c05e0761c16"},itemName:{type:String,default:""}},methods:{setBarcode(t){console.log(t)},setItemId(){}}},z=Q;var D=(0,d.Z)(z,O,S,!1,null,null,null);const G=D.exports;var V=r(6166),X=r.n(V);const J={name:"App",components:{Content:B,Header:m,CloseButton:b,Item:G},data(){return{id:"",count:0,spinner:!0}},mounted(){document.getElementById("id").innerHTML="123",I(document.getElementById("id")).then((t=>{if(console.log(t),void 0!=t)return document.getElementById("id").innerHTML+="\n иф сработал",t;X()("http://nl.arturka.net:8000/user/").then((t=>(document.getElementById("id").innerHTML+="\n axios"+t.data.id,t.data))).then((t=>L(t.id)))})).then((t=>{this.id=t,document.getElementById("id").innerHTML=this.id})).then((()=>{T.toCanvas(document.querySelector(".qr-content"),this.id,(t=>{console.log(t)}))})).catch((t=>{console.log(t),document.getElementById("id").innerHTML=JSON.stringify(t)}))}},K=J;var Y=(0,d.Z)(K,n,s,!1,null,null,null);const W=Y.exports;new a.Z({render:t=>t(W)}).$mount("#app")}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,r),s.exports}r.m=t,(()=>{var t=[];r.O=(e,a,n,s)=>{if(!a){var o=1/0;for(d=0;d<t.length;d++){for(var[a,n,s]=t[d],i=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(r.O).every((t=>r.O[t](a[l])))?a.splice(l--,1):(i=!1,s<o&&(o=s));if(i){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,n,s]}})(),(()=>{r.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return r.d(e,{a:e}),e}})(),(()=>{r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={143:0};r.O.j=e=>0===t[e];var e=(e,a)=>{var n,s,[o,i,l]=a,c=0;if(o.some((e=>0!==t[e]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(l)var d=l(r)}for(e&&e(a);c<o.length;c++)s=o[c],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(d)},a=globalThis["webpackChunkvue_miniapp_template"]=globalThis["webpackChunkvue_miniapp_template"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var a=r.O(void 0,[998],(()=>r(4515)));a=r.O(a)})();